@import "tailwindcss";

/* ── Blueprint Design System ──────────────────── */
@theme {
	/* Achromatic + Signal Red */
	--color-white: #fdfdfd;
	--color-surface: #f4f4f5;
	--color-grid: #e8e8ec;
	--color-border: #c8c8cf;
	--color-ink: #131316;
	--color-secondary: #5a5a65;
	--color-dim: #9c9ca6;
	--color-ghost: #d5d5db;
	--color-signal: #e03e3e;
	--color-signal-bg: #fef2f2;

	/* Typography */
	--font-display: "Instrument Sans", "Arial Narrow", sans-serif;
	--font-sans: "Satoshi", system-ui, -apple-system, sans-serif;
	--font-mono: "IBM Plex Mono", "Menlo", monospace;

	/* Animations */
	--animate-fade-in: fade-in 0.6s ease both;
	--animate-fade-up: fade-up 0.7s cubic-bezier(0.16, 1, 0.3, 1) both;
	--animate-slide-in: slide-in 0.6s cubic-bezier(0.16, 1, 0.3, 1) both;
	--animate-pulse-dot: pulse-dot 2s ease-in-out infinite;
	--animate-marquee: marquee 40s linear infinite;
	--animate-node-pulse: node-pulse 3s ease-in-out infinite;
}

/* ── Keyframes ────────────────────────────────── */
@keyframes fade-in {
	from { opacity: 0; }
	to { opacity: 1; }
}
@keyframes fade-up {
	from { opacity: 0; transform: translateY(24px); }
	to { opacity: 1; transform: translateY(0); }
}
@keyframes slide-in {
	from { opacity: 0; transform: translateX(-20px); }
	to { opacity: 1; transform: translateX(0); }
}
@keyframes pulse-dot {
	0%, 100% { opacity: 1; }
	50% { opacity: 0.4; }
}
@keyframes marquee {
	from { transform: translateX(0); }
	to { transform: translateX(-50%); }
}
@keyframes node-pulse {
	0%, 100% { opacity: 0.4; }
	50% { opacity: 1; }
}
@keyframes data-flow {
	to { stroke-dashoffset: -20; }
}
@keyframes status-blink {
	0%, 70% { opacity: 1; }
	80%, 100% { opacity: 0.2; }
}
@keyframes scanline {
	0% { transform: translateX(-30px); opacity: 0; }
	10% { opacity: 0.4; }
	90% { opacity: 0.4; }
	100% { transform: translateX(470px); opacity: 0; }
}
@keyframes scanline-v {
	0% { transform: translateX(-20px); opacity: 0; }
	5% { opacity: 0.3; }
	95% { opacity: 0.3; }
	100% { transform: translateX(1020px); opacity: 0; }
}
@keyframes source-ping {
	0%, 80% { opacity: 0.3; r: 1.5; }
	90% { opacity: 1; r: 3; }
	100% { opacity: 0.3; r: 1.5; }
}
@keyframes particle-float {
	0%, 100% { transform: translate(0, 0); opacity: 0.15; }
	25% { transform: translate(8px, -12px); opacity: 0.35; }
	50% { transform: translate(-4px, -20px); opacity: 0.2; }
	75% { transform: translate(12px, -8px); opacity: 0.4; }
}
@keyframes grid-sweep {
	0% { background-position: 0 0; opacity: 0.03; }
	50% { opacity: 0.08; }
	100% { background-position: 20px 20px; opacity: 0.03; }
}
@keyframes card-float {
	0%, 100% { transform: translateY(0); }
	50% { transform: translateY(-3px); }
}
@keyframes readout-flicker {
	0%, 90%, 100% { opacity: 0.6; }
	92% { opacity: 0; }
	94% { opacity: 0.5; }
	96% { opacity: 0.1; }
}
@keyframes count-up {
	from { opacity: 0; transform: translateY(8px); }
	to { opacity: 1; transform: translateY(0); }
}
@keyframes draw-line {
	from { transform: scaleX(0); }
	to { transform: scaleX(1); }
}

/* ── Base ──────────────────────────────────────── */
html {
	scroll-behavior: smooth;
	scrollbar-gutter: stable;
}

body {
	font-family: var(--font-sans);
	background-color: var(--color-white);
	color: var(--color-ink);
	-webkit-font-smoothing: antialiased;
	-moz-osx-font-smoothing: grayscale;
	overflow-x: hidden;
	line-height: 1.7;
}

::selection {
	background-color: var(--color-signal);
	color: white;
}

/* ── Dot Grid Background ─────────────────────── */
.dot-grid {
	position: fixed;
	inset: 0;
	background-image: radial-gradient(circle, var(--color-grid) 1px, transparent 1px);
	background-size: 20px 20px;
	opacity: 0.6;
	pointer-events: none;
	z-index: 0;
	animation: fade-in 0.2s ease both;
}

/* ── Registration Marks (viewport corners) ────── */
.registration-marks {
	position: fixed;
	inset: 0;
	pointer-events: none;
	z-index: 1;
	animation: fade-in 0.3s ease 0.2s both;
}
.reg-mark {
	position: absolute;
	width: 24px;
	height: 24px;
}
.reg-mark::before,
.reg-mark::after {
	content: "";
	position: absolute;
	background: var(--color-grid);
}
.reg-mark::before {
	/* crosshair horizontal */
	width: 24px;
	height: 1px;
	top: 50%;
	left: 0;
}
.reg-mark::after {
	/* crosshair vertical */
	width: 1px;
	height: 24px;
	left: 50%;
	top: 0;
}
.reg-mark-circle {
	position: absolute;
	width: 8px;
	height: 8px;
	border: 1px solid var(--color-grid);
	border-radius: 50%;
	top: 50%;
	left: 50%;
	transform: translate(-50%, -50%);
}
.reg-mark.top-left { top: 16px; left: 16px; }
.reg-mark.top-right { top: 16px; right: 16px; }
.reg-mark.bottom-left { bottom: 16px; left: 16px; }
.reg-mark.bottom-right { bottom: 16px; right: 16px; }

/* ── Coordinate Markers ───────────────────────── */
.coord-marker {
	position: fixed;
	font-family: var(--font-mono);
	font-size: 9px;
	letter-spacing: 0.08em;
	color: var(--color-dim);
	pointer-events: none;
	z-index: 1;
	opacity: 0.5;
}
.coord-marker.x-axis {
	bottom: 8px;
}
.coord-marker.y-axis {
	left: 8px;
	writing-mode: vertical-rl;
	text-orientation: mixed;
}

/* ── Section Headlines ────────────────────────── */
.section-title {
	font-family: var(--font-display);
	font-weight: 700;
	text-transform: uppercase;
	letter-spacing: 0.04em;
	line-height: 1.1;
}

/* ── Blueprint Section ────────────────────────── */
.bp-section {
	position: relative;
	padding: 5rem 0;
}
.bp-section-header {
	display: flex;
	align-items: center;
	gap: 1.5rem;
	margin-bottom: 3rem;
}
.bp-section-num {
	font-family: var(--font-mono);
	font-size: clamp(4rem, 8vw, 7.5rem);
	font-weight: 400;
	line-height: 1;
	color: var(--color-ghost);
	user-select: none;
	flex-shrink: 0;
}
.bp-section-title {
	font-family: var(--font-display);
	font-weight: 700;
	font-size: clamp(1rem, 2vw, 1.25rem);
	text-transform: uppercase;
	letter-spacing: 0.04em;
	color: var(--color-ink);
	white-space: nowrap;
}
.bp-section-rule {
	flex: 1;
	height: 1px;
	background-color: var(--color-border);
}

/* ── Overline / Mono Label ────────────────────── */
.overline {
	font-family: var(--font-mono);
	font-size: 10px;
	font-weight: 500;
	letter-spacing: 0.08em;
	text-transform: uppercase;
	color: var(--color-dim);
}
.overline-divider {
	display: flex;
	align-items: center;
	gap: 1.5rem;
	font-family: var(--font-mono);
	font-size: 10px;
	font-weight: 500;
	letter-spacing: 0.08em;
	text-transform: uppercase;
	color: var(--color-dim);
}
.overline-divider::before,
.overline-divider::after {
	content: "";
	flex: 1;
	height: 1px;
	background-color: var(--color-border);
}

/* ── Blueprint Cards ──────────────────────────── */
.bp-card {
	position: relative;
	border: 1px solid var(--color-border);
	border-radius: 0;
	background: transparent;
	transition: border-color 0.05s ease;
}
.bp-card:hover {
	border-color: var(--color-signal);
}

/* Card with surface fill */
.bp-card-filled {
	position: relative;
	border: 1px solid var(--color-border);
	border-radius: 0;
	background: var(--color-surface);
	transition: border-color 0.05s ease;
}
.bp-card-filled:hover {
	border-color: var(--color-signal);
}

/* ── Crop Marks ───────────────────────────────── */
.crop-marks {
	position: relative;
}
.crop-marks::before,
.crop-marks::after {
	content: "";
	position: absolute;
	width: 8px;
	height: 8px;
	pointer-events: none;
}
/* Top-left */
.crop-marks::before {
	top: -4px;
	left: -4px;
	border-top: 1px solid var(--color-grid);
	border-left: 1px solid var(--color-grid);
}
/* Bottom-right */
.crop-marks::after {
	bottom: -4px;
	right: -4px;
	border-bottom: 1px solid var(--color-grid);
	border-right: 1px solid var(--color-grid);
}
/* Additional corners via inner element */
.crop-marks-inner::before,
.crop-marks-inner::after {
	content: "";
	position: absolute;
	width: 8px;
	height: 8px;
	pointer-events: none;
}
/* Top-right */
.crop-marks-inner::before {
	top: -4px;
	right: -4px;
	border-top: 1px solid var(--color-grid);
	border-right: 1px solid var(--color-grid);
}
/* Bottom-left */
.crop-marks-inner::after {
	bottom: -4px;
	left: -4px;
	border-bottom: 1px solid var(--color-grid);
	border-left: 1px solid var(--color-grid);
}

/* ── Dimension Annotations (hover reveal) ─────── */
.dim-annotate {
	position: relative;
}
.dim-annotate::before,
.dim-annotate::after {
	position: absolute;
	font-family: var(--font-mono);
	font-size: 9px;
	letter-spacing: 0.08em;
	color: var(--color-dim);
	opacity: 0;
	transition: opacity 0.15s ease, transform 0.15s ease;
	pointer-events: none;
}
/* Horizontal dimension (width) */
.dim-annotate::before {
	content: attr(data-dim-w);
	bottom: -18px;
	left: 50%;
	transform: translateX(-50%) scaleX(0);
}
/* Vertical dimension (height) */
.dim-annotate::after {
	content: attr(data-dim-h);
	right: -28px;
	top: 50%;
	transform: translateY(-50%) scaleY(0);
}
.dim-annotate:hover::before {
	opacity: 1;
	transform: translateX(-50%) scaleX(1);
}
.dim-annotate:hover::after {
	opacity: 1;
	transform: translateY(-50%) scaleY(1);
}
/* Signal-colored accent lines */
.dim-annotate-line {
	position: relative;
}
.dim-annotate-line::before {
	content: "";
	position: absolute;
	bottom: -10px;
	left: 0;
	right: 0;
	height: 1px;
	background: var(--color-signal);
	transform: scaleX(0);
	transition: transform 0.2s ease;
}
.dim-annotate-line::after {
	content: "";
	position: absolute;
	top: 0;
	bottom: 0;
	right: -10px;
	width: 1px;
	background: var(--color-signal);
	transform: scaleY(0);
	transition: transform 0.2s ease;
}
.dim-annotate:hover .dim-annotate-line::before {
	transform: scaleX(1);
}
.dim-annotate:hover .dim-annotate-line::after {
	transform: scaleY(1);
}

/* Touch devices: hide dimension annotations */
@media (hover: none) {
	.dim-annotate::before,
	.dim-annotate::after,
	.dim-annotate-line::before,
	.dim-annotate-line::after,
	.coord-marker,
	.registration-marks {
		display: none;
	}
}

/* ── Buttons ──────────────────────────────────── */
.btn-signal {
	display: inline-flex;
	align-items: center;
	justify-content: center;
	font-family: var(--font-display);
	font-weight: 600;
	font-size: 0.875rem;
	text-transform: uppercase;
	letter-spacing: 0.04em;
	border: 1px solid var(--color-signal);
	background: transparent;
	color: var(--color-signal);
	padding: 0.75rem 2rem;
	border-radius: 0;
	cursor: pointer;
	transition: none;
}
.btn-signal:hover {
	background: var(--color-signal);
	color: white;
}

.btn-outline {
	display: inline-flex;
	align-items: center;
	justify-content: center;
	font-family: var(--font-display);
	font-weight: 600;
	font-size: 0.875rem;
	text-transform: uppercase;
	letter-spacing: 0.04em;
	border: 1px solid var(--color-border);
	background: transparent;
	color: var(--color-ink);
	padding: 0.75rem 2rem;
	border-radius: 0;
	cursor: pointer;
	transition: all 0.2s ease;
}
.btn-outline:hover {
	border-color: var(--color-ink);
	background: var(--color-ink);
	color: var(--color-white);
}

/* ── Links (underline draw from left) ─────────── */
.bp-link {
	position: relative;
	text-decoration: none;
	color: inherit;
}
.bp-link::after {
	content: "";
	position: absolute;
	bottom: -1px;
	left: 0;
	width: 100%;
	height: 1px;
	background: currentColor;
	transform: scaleX(0);
	transform-origin: left;
	transition: transform 0.3s cubic-bezier(0.16, 1, 0.3, 1);
}
.bp-link:hover::after {
	transform: scaleX(1);
}

/* ── Nav Active Dot ───────────────────────────── */
.nav-dot {
	position: relative;
}
.nav-dot::after {
	content: "";
	position: absolute;
	bottom: -6px;
	left: 50%;
	transform: translateX(-50%);
	width: 4px;
	height: 4px;
	background: var(--color-signal);
	border-radius: 0;
	opacity: 0;
}
.nav-dot.active::after {
	opacity: 1;
}

/* ── Divider ──────────────────────────────────── */
.divider {
	height: 1px;
	background-color: var(--color-border);
}

/* ── Scroll-Triggered Animations ──────────────── */
.reveal {
	opacity: 0;
	transform: translateX(-20px);
	transition: opacity 0.6s cubic-bezier(0.16, 1, 0.3, 1),
		transform 0.6s cubic-bezier(0.16, 1, 0.3, 1);
}
.reveal.visible {
	opacity: 1;
	transform: translateX(0);
}

/* ── Stagger Delays ───────────────────────────── */
.delay-1 { transition-delay: 0.1s; }
.delay-2 { transition-delay: 0.2s; }
.delay-3 { transition-delay: 0.3s; }
.delay-4 { transition-delay: 0.4s; }
.delay-5 { transition-delay: 0.5s; }
.delay-6 { transition-delay: 0.6s; }
.delay-7 { transition-delay: 0.7s; }
.delay-8 { transition-delay: 0.8s; }

/* ── Number Counter ───────────────────────────── */
.stat-num {
	font-variant-numeric: tabular-nums;
	font-feature-settings: "tnum";
}

/* ── Process Flow ─────────────────────────────── */
.process-connector {
	position: relative;
}
.process-connector::after {
	content: "→";
	position: absolute;
	right: -1.5rem;
	top: 50%;
	transform: translateY(-50%);
	color: var(--color-dim);
	font-size: 1rem;
}
.process-connector:last-child::after {
	display: none;
}

/* ── Dark Section (Footer CTA) ────────────────── */
.section-dark {
	background-color: var(--color-ink);
	color: var(--color-white);
}
.section-dark .btn-signal {
	border-color: var(--color-signal);
	color: white;
	background: var(--color-signal);
}
.section-dark .btn-signal:hover {
	background: transparent;
	color: var(--color-signal);
}
.section-dark .btn-outline {
	border-color: var(--color-ghost);
	color: var(--color-white);
}
.section-dark .btn-outline:hover {
	border-color: var(--color-white);
	background: var(--color-white);
	color: var(--color-ink);
}

/* ── Scrollbar ────────────────────────────────── */
::-webkit-scrollbar {
	width: 6px;
}
::-webkit-scrollbar-track {
	background: var(--color-white);
}
::-webkit-scrollbar-thumb {
	background: var(--color-border);
	border-radius: 0;
}
::-webkit-scrollbar-thumb:hover {
	background: var(--color-dim);
}

/* ── Intelligence Network Artwork ─────────────── */
.diagram-canvas {
	position: relative;
	width: 100%;
	height: 380px;
	border-radius: 12px;
	background: var(--color-surface);
	border: 1px solid var(--color-grid);
	overflow: hidden;
	cursor: default;
}
/* Background animated grid */
.diagram-grid-pulse {
	position: absolute;
	inset: 0;
	background-image: radial-gradient(circle, var(--color-grid) 0.5px, transparent 0.5px);
	background-size: 20px 20px;
	animation: grid-sweep 8s linear infinite;
	pointer-events: none;
	z-index: 0;
}
/* Floating particles */
.diagram-particles {
	position: absolute;
	inset: 0;
	pointer-events: none;
	z-index: 0;
}
.diagram-particle {
	position: absolute;
	border-radius: 50%;
	background: var(--color-border);
	opacity: 0.2;
	animation: particle-float ease-in-out infinite;
}
.diagram-svg {
	position: absolute;
	inset: 0;
	width: 100%;
	height: 100%;
	pointer-events: none;
	z-index: 1;
	transition: opacity 0.2s ease;
}
.diagram-wire {
	stroke: var(--color-border);
	stroke-width: 1.2;
	fill: none;
	transition: stroke 0.2s ease;
}
.diagram-dot {
	fill: var(--color-border);
	stroke: var(--color-white);
	stroke-width: 2;
	transition: fill 0.2s ease;
}
.diagram-card {
	position: absolute;
	z-index: 2;
	background: var(--color-white);
	border: 1px solid var(--color-grid);
	border-radius: 6px;
	padding: 10px 12px;
	box-shadow: 0 1px 3px rgba(0, 0, 0, 0.04);
	animation: fade-up 0.5s cubic-bezier(0.16, 1, 0.3, 1) both, card-float 6s ease-in-out infinite;
	transition: border-color 0.15s ease, box-shadow 0.2s ease, transform 0.15s ease;
	cursor: grab;
	user-select: none;
	touch-action: none;
}
.diagram-card:hover {
	border-color: var(--color-ink);
	box-shadow: 0 8px 24px rgba(0, 0, 0, 0.08);
	transform: translateY(-2px);
	z-index: 10;
}
.diagram-card:active,
.diagram-card-dragging {
	cursor: grabbing;
	border-color: var(--color-signal) !important;
	box-shadow: 0 12px 32px rgba(0, 0, 0, 0.12) !important;
	transform: scale(1.03) !important;
	animation: none !important;
	z-index: 20 !important;
}
.diagram-card-lg {
	padding: 12px 14px;
}
.diagram-card-overline {
	display: flex;
	align-items: center;
	gap: 8px;
	margin-bottom: 8px;
}
.diagram-card-cat {
	font-family: var(--font-mono);
	font-size: 9px;
	letter-spacing: 0.08em;
	color: var(--color-dim);
	text-transform: uppercase;
}
.diagram-card-tool {
	font-family: var(--font-mono);
	font-size: 9px;
	letter-spacing: 0.06em;
	color: var(--color-ink);
	text-transform: uppercase;
	font-weight: 600;
}
.diagram-card-body {
	display: flex;
	flex-direction: column;
	gap: 3px;
}
.diagram-card-line {
	font-family: var(--font-mono);
	font-size: 10px;
	color: var(--color-secondary);
	letter-spacing: 0.02em;
	line-height: 1.5;
}
.diagram-card-lg .diagram-card-line {
	font-size: 11px;
}

/* Hide on small screens */
@media (max-width: 768px) {
	.diagram-canvas {
		display: none;
	}
}

/* ── Form Inputs (Blueprint style) ────────────── */
.bp-input {
	width: 100%;
	padding: 0.75rem 1rem;
	border: 1px solid var(--color-border);
	border-radius: 0;
	background: var(--color-surface);
	font-family: var(--font-sans);
	font-size: 0.875rem;
	color: var(--color-ink);
	outline: none;
	transition: border-color 0.15s ease;
}
.bp-input:focus {
	border-color: var(--color-ink);
}
.bp-input::placeholder {
	color: var(--color-dim);
}

/* ── Pricing Card Active ──────────────────────── */
.pricing-active {
	border-color: var(--color-signal) !important;
}
